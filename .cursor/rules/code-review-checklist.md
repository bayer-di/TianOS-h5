# TianOS-H5 代码审查清单

本文档提供了TianOS-H5项目代码审查的标准清单，以确保所有代码贡献都符合项目规范和质量标准。

## 代码风格

- [ ] 代码遵循项目的命名约定
- [ ] 使用2个空格缩进
- [ ] 使用单引号而不是双引号（除非需要在字符串中使用单引号）
- [ ] 每行代码不超过100个字符
- [ ] **JavaScript/TypeScript代码不使用分号结尾**
- [ ] **SCSS/CSS样式文件保留分号结尾**
- [ ] 代码格式一致（使用ESLint和Prettier）
- [ ] 无未使用的变量或导入
- [ ] 适当的空行分隔逻辑块

## TypeScript

- [ ] 所有函数和组件都有适当的类型定义
- [ ] 避免使用`any`类型，优先使用`unknown`
- [ ] 为组件Props定义接口而不是类型别名
- [ ] 组件Props接口包含适当的JSDoc注释
- [ ] 使用类型推断减少冗余类型注解
- [ ] 使用泛型增强类型安全性
- [ ] 导出的类型和接口都有文档注释

## React组件

- [ ] 使用函数组件和React Hooks
- [ ] 组件遵循单一职责原则
- [ ] 组件Props有默认值（适用时）
- [ ] 使用解构赋值获取Props和状态
- [ ] 避免在渲染函数中创建新函数或对象
- [ ] 使用`React.memo`、`useMemo`和`useCallback`优化性能（适用时）
- [ ] 组件逻辑清晰，易于理解
- [ ] 大型组件适当拆分为小组件

## Hooks使用

- [ ] 遵循Hook规则（只在组件顶层调用）
- [ ] `useEffect`依赖数组正确设置
- [ ] 避免过度使用`useEffect`
- [ ] 自定义Hook命名以"use"开头
- [ ] 复杂逻辑封装在自定义Hook中

## 状态管理

- [ ] 状态放在合适的层级（本地vs全局）
- [ ] Zustand store结构清晰，职责单一
- [ ] 避免冗余状态
- [ ] 状态更新逻辑清晰
- [ ] 异步操作处理得当
- [ ] 持久化状态配置合理

## 样式

- [ ] 遵循BEM命名约定
- [ ] 样式类名使用适当的前缀，避免与第三方库冲突
- [ ] 使用CSS变量实现主题和复用
- [ ] 样式模块化，避免全局污染
- [ ] 响应式设计考虑不同设备
- [ ] 无硬编码的颜色值，使用变量
- [ ] **SCSS嵌套不超过3层**
- [ ] **SCSS文件中使用分号结尾**
- [ ] **避免使用!important**
- [ ] **变量、混合和函数使用连字符命名**

## 性能

- [ ] 避免不必要的重渲染
- [ ] 大列表使用虚拟滚动
- [ ] 图片优化（大小、格式、懒加载）
- [ ] 路由使用代码分割
- [ ] 避免过度渲染和布局抖动
- [ ] 合理使用缓存

## 可访问性

- [ ] 语义化HTML元素
- [ ] 适当的ARIA属性
- [ ] 键盘可访问性
- [ ] 颜色对比度符合WCAG标准
- [ ] 屏幕阅读器友好

## 安全

- [ ] 避免直接在JSX中使用`dangerouslySetInnerHTML`
- [ ] 用户输入经过验证和清洗
- [ ] 敏感信息不硬编码在前端
- [ ] API调用使用适当的错误处理

## 测试

- [ ] 关键组件有单元测试
- [ ] 测试覆盖主要用例
- [ ] 测试独立，不依赖其他测试
- [ ] 模拟外部依赖

## 文档

- [ ] 组件有适当的JSDoc注释
- [ ] 复杂逻辑有解释性注释
- [ ] README更新（如适用）
- [ ] 关键决策有文档记录

## 项目特定检查

- [ ] 移动端适配实现正确
- [ ] 主题切换功能工作正常
- [ ] 路由配置正确
- [ ] API调用包含适当的错误处理
- [ ] 表单验证逻辑完整

## 提交质量

- [ ] 提交信息遵循规范
- [ ] 单个提交专注于单一变更
- [ ] 代码变更与任务/问题相关
- [ ] 无调试代码（console.log等）
- [ ] 无注释掉的代码块