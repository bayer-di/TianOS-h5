# TianOS-H5 项目规范文档

本目录包含TianOS-H5项目的代码规范和开发指南文档，旨在帮助团队成员保持一致的编码风格和开发实践。

## 文档目录

- [项目风格指南](./project-style-guide.md) - 定义项目的代码风格和开发规范
- [动态路由逻辑](./routes.md) - 提供pages文件下路由的自动注册
- [组件模板](./component-template.md) - 提供标准组件开发模板和最佳实践
- [代码审查清单](./code-review-checklist.md) - 代码审查时的检查项目
- [响应式设计指南](./responsive-design-guide.md) - 移动端适配与响应式设计规范
- [待实现功能清单](./future-tasks.md) - 项目待实现功能与后续开发计划

## 核心规范要点

1. **代码格式**
   - 使用2个空格缩进
   - JavaScript/TypeScript代码**不使用分号结尾**
   - SCSS/CSS样式文件**保留分号结尾**
   - 使用单引号
   - 每行最大长度100字符

2. **命名约定**
   - 组件：PascalCase（如`Button.tsx`）
   - 页面：camelCase（如`home.tsx`）
   - 样式：BEM命名（如`.c-button__icon--large`）
   - 变量/函数：camelCase（如`userName`）
   - 常量：UPPER_SNAKE_CASE（如`MAX_RETRY_COUNT`）

3. **样式规范**
   - 使用SCSS + BEM命名约定
   - 样式类名使用适当的前缀，避免与第三方库冲突
   - SCSS嵌套不超过3层
   - 使用CSS变量实现主题和复用

## 样式前缀建议

为避免样式冲突，同时保持灵活性，我们建议：

- 根据功能模块或组件类型选择适当的前缀
- 常见前缀参考：
  - 页面相关：`page-`
  - 组件相关：`c-`或组件名称
  - 布局相关：`layout-`
  - 工具类：`util-`
- 前缀选择应考虑可读性和避免冲突，不强制统一前缀

## 如何使用这些文档

1. **新成员入职** - 新加入项目的开发者应首先阅读这些文档，了解项目的编码规范和开发流程。

2. **日常开发** - 在开发新功能或修复bug时，参考相关规范确保代码符合项目标准。

3. **代码审查** - 在进行代码审查时，使用代码审查清单确保所有代码贡献都符合项目规范。

4. **创建新组件** - 使用组件模板作为起点，确保新组件遵循一致的结构和风格。

## 规范更新流程

如果你认为某项规范需要更新或添加新的规范，请按照以下步骤操作：

1. 创建一个新的分支
2. 更新或添加相关文档
3. 提交PR并在PR描述中说明变更原因
4. 经过团队讨论和审核后合并

## 工具配置

项目使用以下工具确保代码质量和一致性：

- **ESLint** - 代码质量检查
- **Prettier** - 代码格式化
- **TypeScript** - 类型检查
- **husky + lint-staged** - 提交前检查

相关配置文件：
- `.eslintrc.js`
- `.prettierrc`
- `tsconfig.json`

## 自动化检查

项目设置了以下自动化检查：

- 提交前运行lint和格式化检查
- CI流程中运行完整的lint和类型检查
- 构建过程中进行类型检查

## 常见问题

### 如何处理ESLint警告和错误？

优先修复所有ESLint错误。对于特殊情况，可以使用`// eslint-disable-next-line`注释禁用特定规则，但必须添加注释说明原因。

### 如何处理样式冲突？

使用BEM命名约定和适当的前缀避免样式冲突。对于需要覆盖第三方组件样式的情况，使用特定的样式覆盖文件。

### 如何优化组件性能？

参考组件模板中的最佳实践，合理使用React.memo、useMemo和useCallback，避免不必要的重渲染。